{% extends 'includes/base.html' %}
{% load static %}

{% block title %}Payment Details{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center text-success"><i class="fas fa-file-invoice-dollar"></i> Payment Details</h2>

    <div class="card p-4 shadow mt-4">
        <div class="d-flex justify-content-between">
            <strong>Total Payment Amount:</strong>
            <span class="text-success">£{{ payment_amount }}</span>
        </div>
        <div class="d-flex justify-content-between">
            <strong>Remaining Wallet Balance:</strong>
            <span class="text-warning">£{{ remaining_balance }}</span>
        </div>

        <table class="table mt-3">
            <tr><th>Customer Info</th><td>{{ rental.customer_id.customer_name }}</td></tr>
            <tr><th>Usage Hours</th><td>{{ payment.usage_hours }} Hours</td></tr>
            <tr><th>Start Time</th><td>{{ rental.start_time | date:"Y-m-d H:i:s" }}</td></tr>
            <tr><th>End Time</th><td>{{ rental.end_time | date:"Y-m-d H:i:s" }}</td></tr>
            <tr><th>Start Station</th><td>{{ start_station_name }}</td></tr>
            <tr><th>End Station</th><td>{{ end_station_name }}</td></tr>
            <tr><th>Power Bank ID</th><td>{{ rental.vehicle_id.vehicle_id }}</td></tr>
        </table>

        <form action="{% url 'payment_success' rental_id=rental_id %}" method="get">
            <button type="submit" class="btn btn-success w-100">Confirm Payment</button>
        </form>
    </div>
</div>
{% endblock %}
